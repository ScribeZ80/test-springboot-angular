<div class="container fade-in">
  <!-- Header Section -->
  <header class="glass-card header-section">
    <div class="header-content">
      <h1 class="page-title">
        <span class="title-icon">ğŸ“</span>
        DÃ©tail de la TÃ¢che
      </h1>
      <button class="btn-modern back-btn" routerLink="/">
        â† Retour Ã  la liste
      </button>
    </div>
  </header>

  <!-- Task Detail Section -->
  <section *ngIf="task(); else loading" class="task-detail-section">
    <div class="task-detail-card glass-card">
      <div class="task-header">
        <div class="task-status-section">
          <div class="task-status-badge" [class.completed]="task()?.completed">
            {{ task()?.completed ? 'âœ… TerminÃ©e' : 'â³ En cours' }}
          </div>
        </div>
        <div class="task-id">
          ID: #{{ task()?.id }}
        </div>
      </div>

      <div class="task-content">
        <div class="task-field">
          <label class="field-label">
            <span class="field-icon">ğŸ“‹</span>
            LibellÃ©
          </label>
          <h2 class="task-title">{{ task()?.label }}</h2>
        </div>

        <div class="task-field" *ngIf="task()?.description">
          <label class="field-label">
            <span class="field-icon">ğŸ“„</span>
            Description
          </label>
          <p class="task-description">{{ task()?.description }}</p>
        </div>

        <div class="task-field">
          <label class="field-label">
            <span class="field-icon">ğŸ“…</span>
            Statut
          </label>
          <div class="status-info">
            <span class="status-text" [class.completed]="task()?.completed">
              {{ task()?.completed ? 'Cette tÃ¢che a Ã©tÃ© marquÃ©e comme terminÃ©e' : 'Cette tÃ¢che est actuellement en cours' }}
            </span>
            <app-task-status-toggle
              [isCompleted]="task()?.completed || false"
              [isUpdating]="isUpdating()"
              size="large"
              (statusChange)="toggleStatus($event)"
            ></app-task-status-toggle>
          </div>
        </div>
      </div>

    </div>
  </section>

  <ng-template #loading>
    <div class="loading-section glass-card">
      <div class="loading-spinner"></div>
      <p class="loading-text">Chargement du dÃ©tail de la tÃ¢che...</p>
    </div>
  </ng-template>

  <!-- Error Section -->
  <section *ngIf="!task() && !isLoading()" class="error-section glass-card">
    <div class="error-content">
      <div class="error-icon">âŒ</div>
      <h2 class="error-title">TÃ¢che non trouvÃ©e</h2>
      <p class="error-message">
        La tÃ¢che que vous recherchez n'existe pas ou a Ã©tÃ© supprimÃ©e.
      </p>
      <button class="btn-modern" routerLink="/">
        Retour Ã  la liste
      </button>
    </div>
  </section>
</div> 